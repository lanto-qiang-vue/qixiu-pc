<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:jdbc="http://www.springframework.org/schema/jdbc"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

	<!--
		开发模式（默认）使用该配置文件，测试和生产模式应该使用jndi配置文件。此文件废弃
		属性在application。properties中定义，使用pyxis访问
		切换编译模式  在mvn中使用参数  -P dev   或  -P test
		切换默认编译模式，修改总project中的pom文件profile部分。
	 
	<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"
		destroy-method="close">
		<property name="driverClassName" value="${jdbc.driverClassName}" />
		<property name="url" value="${jdbc.url}" />
		<property name="username" value="${jdbc.username}" />
		<property name="password" value="${jdbc.password}" />
		<property name="initialSize" value="10" />
		<property name="maxActive" value="30" />
	</bean>
	-->
	
	<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
	   <property name="driverClass" value="${jdbc.driverClass}"/>
	   <property name="jdbcUrl" value="${jdbc.url}"/>
	   <property name="user" value="${jdbc.username}"/>
	   <property name="password" value="${jdbc.password}"/>
	   <property name="maxPoolSize" value="${jdbc.maxPoolSize}"/>
	   <property name="minPoolSize" value="${jdbc.minPoolSize}"/>
	   <property name="initialPoolSize" value="${jdbc.initialPoolSize}"/>
	   <!--最大空闲时间,60秒内未使用则连接被丢弃。若为0则永不丢弃。Default: 0 -->
	   <property name="maxIdleTime" value="${jdbc.maxIdleTime}"/>
	   <!--每60秒检查所有连接池中的空闲连接。Default: 0 -->
	   <property name="idleConnectionTestPeriod" value="${jdbc.idleConnectionTestPeriod}"/>
	   <!--当连接池用完时客户端调用getConnection()后等待获取新连接的时间，超时后将抛出
	       SQLException,如设为0则无限期等待。单位毫秒。Default: 0 -->
	   <property name="checkoutTimeout" value="${jdbc.checkoutTimeout}"/>
	   <property name="preferredTestQuery" value="${jdbc.preferredTestQuery}"/>
	   
	   <property name="acquireRetryAttempts" value="${jdbc.acquireRetryAttempts}"/>
	   <property name="acquireRetryDelay" value="${jdbc.acquireRetryDelay}"/>
	   <property name="acquireIncrement" value="${jdbc.acquireIncrement}"/>
	   <property name="autoCommitOnClose" value="${jdbc.autoCommitOnClose}"/>
	   <property name="breakAfterAcquireFailure" value="${jdbc.breakAfterAcquireFailure}"/>
	   <property name="testConnectionOnCheckin" value="${jdbc.testConnectionOnCheckin}"/>
	   <property name="maxStatements" value="${jdbc.maxStatements}"/>
	   <property name="maxStatementsPerConnection" value="${jdbc.maxStatementsPerConnection}"/>
	   <property name="numHelperThreads" value="${jdbc.numHelperThreads}"/>
	</bean>
	
	<!-- 
	<bean id="dataSource_bak" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
	   <property name="driverClass" value="${jdbc.driverClass}"/>
	   <property name="jdbcUrl" value="${jdbc.url.bak}"/>
	   <property name="user" value="${jdbc.username.bak}"/>
	   <property name="password" value="${jdbc.password.bak}"/>
	   <property name="maxPoolSize" value="${jdbc.maxPoolSize.bak}"/>
	   <property name="minPoolSize" value="${jdbc.minPoolSize.bak}"/>
	   <property name="initialPoolSize" value="${jdbc.initialPoolSize.bak}"/>
	   <property name="maxIdleTime" value="${jdbc.maxIdleTime.bak}"/>
	   <property name="idleConnectionTestPeriod" value="${jdbc.idleConnectionTestPeriod.bak}"/>
	   <property name="checkoutTimeout" value="${jdbc.checkoutTimeout.bak}"/>
	   <property name="preferredTestQuery" value="${jdbc.preferredTestQuery.bak}"/>
	</bean>
	-->
</beans>

